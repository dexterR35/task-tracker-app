# Copy this file to .env and fill in your values
# cp env.example .env

# PostgreSQL connection string
# Local: postgresql://user:password@localhost:5432/task_tracker
DATABASE_URL=postgresql://postgres:password@localhost:5432/task_tracker

# JWT secret (production: set a long random string, min 32 chars)
JWT_SECRET=your-super-secret-jwt-key-change-in-production
# Optional: previous secret for key rotation (verify old tokens while rotating)
# JWT_SECRET_PREVIOUS=old-secret
# Access token: short-lived; 5–10 min for high security, 10–15 min default
JWT_EXPIRES_IN=10m
REFRESH_TOKEN_EXPIRES_DAYS=7
# Cookie name for refresh token (httpOnly, secure in production)
REFRESH_TOKEN_COOKIE=refresh_token

# Server
PORT=5000
NODE_ENV=development

# CORS: dev = single origin or true; production = explicit origin(s), comma-separated (no *)
# e.g. https://app.example.com or https://app.example.com,https://admin.example.com
CORS_ORIGIN=http://localhost:5173

# Rate limit: max login attempts per IP per 15 min (default 20); refresh per IP per 15 min (default 50)
AUTH_RATE_LIMIT_MAX=20
# AUTH_REFRESH_RATE_LIMIT_MAX=50

# Optional: log all JWT verification failures for auditing (LOG_JWT_FAILURES=1)
# LOG_JWT_FAILURES=1

# Optional: append auth audit logs to a file (path relative to cwd or absolute)
# AUTH_LOG_FILE=logs/auth-audit.jsonl

# Optional: redirect HTTP to HTTPS in production (or use reverse proxy)
# REDIRECT_HTTP_TO_HTTPS=true
